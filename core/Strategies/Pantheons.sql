
-- AUTHOR: ROMANHOLIDAY

INSERT OR IGNORE INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
		('RH_AI_ANCIENT_ONLY_REQ_S', 'REQUIREMENTSET_TEST_ALL');

INSERT OR IGNORE INTO RequirementSetRequirements  (RequirementSetId, RequirementId) VALUES	
		('RH_AI_ANCIENT_ONLY_REQ_S', 'PLAYER_AT_ANCIENT_ERA'),
		('RH_AI_ANCIENT_ONLY_REQ_S', 'PLAYER_NOT_CLASSICAL_ERA'),
		('RH_AI_ANCIENT_ONLY_REQ_S', 'REQUIRES_RH_HAS_CIVIC_DEFENSE'),
		
		('RH_AI_ANCIENT_ONLY_REQ_S', 'REQUIRES_PLAYER_IS_AI');


INSERT OR IGNORE INTO Modifiers  (ModifierId, ModifierType, SubjectRequirementSetId) VALUES		
		('RH_PANTH_DIS',				'MODIFIER_PLAYER_ADJUST_DUPLICATE_FIRST_INFLUENCE_TOKEN',	'RH_AI_ANCIENT_ONLY_REQ_S');

INSERT OR IGNORE INTO ModifierArguments  (ModifierId, Name, Value) VALUES	
		('RH_PANTH_DIS',						'Amount'   , -99); -- pvs -99 (at -999 stopped working)

INSERT INTO BeliefModifiers (BeliefType, ModifierId) VALUES
('BELIEF_INITIATION_RITES', 'RH_PANTH_DIS');


INSERT OR IGNORE INTO Modifiers  (ModifierId, ModifierType, SubjectRequirementSetId)  VALUES	
('RH_PANTH2_DIS_XS',	'MODIFIER_PLAYER_CAPITAL_CITY_ADJUST_CITY_YIELD_CHANGE',	'RH_AI_ANCIENT_ONLY_REQ_S'),
('RH_PANTH2_DIS_MXS',	'MODIFIER_PLAYER_CAPITAL_CITY_ADJUST_CITY_YIELD_CHANGE',	'RH_AI_ANCIENT_ONLY_REQ_S'),
('RH_PANTH2_DIS_S',	'MODIFIER_PLAYER_CAPITAL_CITY_ADJUST_CITY_YIELD_CHANGE',	'RH_AI_ANCIENT_ONLY_REQ_S'),
('RH_PANTH2_DIS_M',	'MODIFIER_PLAYER_CAPITAL_CITY_ADJUST_CITY_YIELD_CHANGE',	'RH_AI_ANCIENT_ONLY_REQ_S'),
('RH_PANTH2_DIS_L',	'MODIFIER_PLAYER_CAPITAL_CITY_ADJUST_CITY_YIELD_CHANGE',	'RH_AI_ANCIENT_ONLY_REQ_S'),
('RH_PANTH2_DIS',	'MODIFIER_PLAYER_CAPITAL_CITY_ADJUST_CITY_YIELD_CHANGE',	'RH_AI_ANCIENT_ONLY_REQ_S');


INSERT OR IGNORE INTO ModifierArguments  (ModifierId, Name, Value)  VALUES	
		('RH_PANTH2_DIS_XS',	'YieldType'    , 'YIELD_RH_FAITH'),
		('RH_PANTH2_DIS_XS',	'Amount'       , -5),

		('RH_PANTH2_DIS_MXS',	'YieldType'    , 'YIELD_RH_FAITH'),
		('RH_PANTH2_DIS_MXS',	'Amount'       , -10),

		('RH_PANTH2_DIS_S',	'YieldType'    , 'YIELD_RH_FAITH'),
		('RH_PANTH2_DIS_S',	'Amount'       , -20),

		('RH_PANTH2_DIS_M',	'YieldType'    , 'YIELD_RH_FAITH'),
		('RH_PANTH2_DIS_M',	'Amount'       , -50),
		
		('RH_PANTH2_DIS_L',	'YieldType'    , 'YIELD_RH_FAITH'),
		('RH_PANTH2_DIS_L',	'Amount'       , -950),	-- pvs -300, -500

		('RH_PANTH2_DIS',	'YieldType'    , 	'YIELD_RH_FAITH'),
		('RH_PANTH2_DIS',	'Amount'       , 	-65); -- pvs -200, -120, -80, -55, -52, -35, -28, -45


INSERT OR IGNORE INTO Modifiers  (ModifierId, ModifierType, SubjectRequirementSetId) VALUES		
		('RH_PANTH_DIS_IS_XL',				'MODIFIER_PLAYER_ADJUST_DUPLICATE_FIRST_INFLUENCE_TOKEN',	'RH_AI_ANCIENT_ONLY_REQ_S'),
		('RH_PANTH_DIS_IS',				'MODIFIER_PLAYER_ADJUST_INFLUENCE_POINTS_PER_TURN',	'RH_AI_ANCIENT_ONLY_REQ_S');

INSERT OR IGNORE INTO ModifierArguments  (ModifierId, Name, Value) VALUES	
		('RH_PANTH_DIS_IS_XL',						'Amount'   , -99),
		('RH_PANTH_DIS_IS',							'Amount'   , -990); -- pvs -1, -5

INSERT OR IGNORE INTO GovernmentModifiers (GovernmentType, ModifierId)  VALUES	

			('GOVERNMENT_CHIEFDOM', 						'RH_PANTH_DIS_IS_XL'),
			('GOVERNMENT_AUTOCRACY', 						'RH_PANTH_DIS_IS_XL'),

			('GOVERNMENT_CHIEFDOM', 						'RH_PANTH_DIS_IS'),
			('GOVERNMENT_AUTOCRACY', 						'RH_PANTH_DIS_IS');


INSERT INTO BeliefModifiers (BeliefType, ModifierId) VALUES
('BELIEF_INITIATION_RITES', 'RH_PANTH2_DIS_L');

INSERT INTO BeliefModifiers (BeliefType, ModifierId) VALUES
('BELIEF_DANCE_OF_THE_AURORA', 			    'RH_PANTH2_DIS'),
('BELIEF_DESERT_FOLKLORE',				    'RH_PANTH2_DIS'),
('BELIEF_SACRED_PATH', 				    	'RH_PANTH2_DIS');






INSERT OR IGNORE INTO Modifiers  (ModifierId, ModifierType, SubjectRequirementSetId) VALUES		
		('RH_PANTH_DIS_L',				'MODIFIER_PLAYER_CAPITAL_CITY_ADJUST_CITY_YIELD_CHANGE',	'RH_AI_ANCIENT_ONLY_REQ_S');

INSERT OR IGNORE INTO ModifierArguments  (ModifierId, Name, Value) VALUES	
		('RH_PANTH_DIS_L',	'YieldType'    , 'YIELD_RH_FAITH'),
		('RH_PANTH_DIS_L',						'Amount'   , -11); -- pvs -15


INSERT OR IGNORE INTO Modifiers  (ModifierId, ModifierType, SubjectRequirementSetId) VALUES		
		('RH_PANTH_DIS_M',				'MODIFIER_PLAYER_CAPITAL_CITY_ADJUST_CITY_YIELD_CHANGE',	'RH_AI_ANCIENT_WAR_REQ_S');

INSERT OR IGNORE INTO ModifierArguments  (ModifierId, Name, Value) VALUES	
		('RH_PANTH_DIS_M',	'YieldType'    , 'YIELD_RH_FAITH'),
		('RH_PANTH_DIS_M',						'Amount'   , -7); -- at -12 Religious Settlements Picked Over Folklore in the Desert, still picking divine spark at -8 (testing 7 as 6 slightly too enc)

INSERT OR IGNORE INTO Modifiers  (ModifierId, ModifierType, SubjectRequirementSetId) VALUES		
		('RH_PANTH_DIS_S',				'MODIFIER_PLAYER_CAPITAL_CITY_ADJUST_CITY_YIELD_CHANGE',	'RH_AI_ANCIENT_WAR_REQ_S');

INSERT OR IGNORE INTO ModifierArguments  (ModifierId, Name, Value) VALUES	
		('RH_PANTH_DIS_S',			'YieldType'    , 'YIELD_RH_FAITH'),
		('RH_PANTH_DIS_S',						'Amount'   , -2); -- 4 still priotises settlements


-- Todo Minus the Existing Pantheon Bonus but for the AI only, and then add back in per tile valuation


-- What is this doing here?
--INSERT INTO BuildingModifiers (BuildingType, ModifierId) VALUES
--('BUILDING_CASTLE', 'RH_DEF_W');


INSERT INTO BeliefModifiers (BeliefType, ModifierId) VALUES
--('BELIEF_DESERT_FOLKLORE', 		'RH_PANTH_DIS_M'),
--('BELIEF_DANCE_OF_THE_AURORA',  'RH_PANTH_DIS_S'),
('BELIEF_SACRED_PATH', 			'RH_PANTH_DIS_S'); -- pvs L





-- Resource classes for requirements to improve pantheon scoring

INSERT INTO Tags (Tag, Vocabulary) VALUES
('CLASS_GOD_OF_THE_OPEN_SKY', 'RESOURCE_CLASS'),
('CLASS_GOD_OF_THE_SEA',      'RESOURCE_CLASS'),
('CLASS_GODDESS_OF_THE_HUNT', 'RESOURCE_CLASS'),
('CLASS_STONE_CIRCLES',       'RESOURCE_CLASS'),
('CLASS_RELIGIOUS_IDOLS',     'RESOURCE_CLASS');

INSERT INTO TypeTags (Type, Tag) SELECT ResourceType, 'CLASS_STONE_CIRCLES'       FROM Improvement_ValidResources WHERE ImprovementType = 'IMPROVEMENT_QUARRY';
INSERT INTO TypeTags (Type, Tag) SELECT ResourceType, 'CLASS_RELIGIOUS_IDOLS'     FROM Improvement_ValidResources WHERE ImprovementType = 'IMPROVEMENT_MINE' AND ResourceType IN (SELECT ResourceType FROM Resources WHERE ResourceClassType = 'RESOURCECLASS_LUXURY' OR ResourceClassType = 'RESOURCECLASS_BONUS');

INSERT INTO TypeTags (Type, Tag) SELECT ResourceType, 'CLASS_GOD_OF_THE_OPEN_SKY' FROM Improvement_ValidResources WHERE ImprovementType = 'IMPROVEMENT_PASTURE';
INSERT INTO TypeTags (Type, Tag) SELECT ResourceType, 'CLASS_GOD_OF_THE_SEA'      FROM Improvement_ValidResources WHERE ImprovementType = 'IMPROVEMENT_FISHING_BOATS';
INSERT INTO TypeTags (Type, Tag) SELECT ResourceType, 'CLASS_GODDESS_OF_THE_HUNT' FROM Improvement_ValidResources WHERE ImprovementType = 'IMPROVEMENT_CAMP'; 

DELETE FROM TypeTags WHERE Tag = 'CLASS_GODDESS_OF_FESTIVALS';
INSERT INTO TypeTags (Type, Tag) SELECT ResourceType, 'CLASS_GODDESS_OF_FESTIVALS' FROM Improvement_ValidResources WHERE ImprovementType = 'IMPROVEMENT_PLANTATION';


INSERT INTO BeliefModifiers (BeliefType, ModifierId) VALUES
('BELIEF_GOD_OF_THE_SEA', 'GOD_OF_THE_SEA_RESOURCES_PRODUCTION_AI');

INSERT INTO Modifiers(ModifierId, ModifierType, SubjectRequirementSetId) VALUES
--('GOD_OF_THE_SEA_RESOURCES_PRODUCTION_AI',          'MODIFIER_ALL_CITIES_ATTACH_MODIFIER',          'REQUIREMENTS_CITY_FOLLOWS_PANTHEON_ANCIENT'),
('GOD_OF_THE_SEA_RESOURCES_PRODUCTION_AI',          'MODIFIER_ALL_CITIES_ATTACH_MODIFIER',          'CITY_FOLLOWS_PANTHEON_REQUIREMENTS'),
('GOD_OF_THE_SEA_RESOURCES_PRODUCTION_AI_MODIFIER', 'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD',  'REQUIREMENTS_GOD_OF_THE_SEA_RESOURCES');

INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('GOD_OF_THE_SEA_RESOURCES_PRODUCTION_AI', 'ModifierId', 'GOD_OF_THE_SEA_RESOURCES_PRODUCTION_AI_MODIFIER'),
('GOD_OF_THE_SEA_RESOURCES_PRODUCTION_AI_MODIFIER', 'YieldType', 'YIELD_RH_NAVAL'),
('GOD_OF_THE_SEA_RESOURCES_PRODUCTION_AI_MODIFIER', 'Amount',    '2');

 -- pvs 1 Production

-- Requirement: plot has a resource with a specific tag
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType)		 VALUES ('REQUIREMENTS_GOD_OF_THE_SEA_RESOURCES', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GOD_OF_THE_SEA_RESOURCES', 'PLAYER_AT_ANCIENT_ERA');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GOD_OF_THE_SEA_RESOURCES', 'PLAYER_NOT_CLASSICAL_ERA');

--INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GOD_OF_THE_SEA_RESOURCES', 'REQUIRES_PLOT_HAS_NO_IMPROVEMENT');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GOD_OF_THE_SEA_RESOURCES', 'REQUIRES_PLOT_HAS_TAG_GOD_OF_THE_SEA');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GOD_OF_THE_SEA_RESOURCES', 'REQUIRES_PLAYER_IS_AI');

INSERT INTO Requirements (RequirementId, RequirementType)				 VALUES ('REQUIRES_PLOT_HAS_TAG_GOD_OF_THE_SEA',  'REQUIREMENT_PLOT_RESOURCE_TAG_MATCHES');
INSERT INTO RequirementArguments (RequirementId, Name, Value)			 VALUES ('REQUIRES_PLOT_HAS_TAG_GOD_OF_THE_SEA',  'Tag', 'CLASS_GOD_OF_THE_SEA');


-- BELIEF_GOD_OF_CRAFTSMEN (fixes broken scoring far too high) (+1 Production and Faith from Strategics)

DELETE FROM BeliefModifiers WHERE BeliefType = 'BELIEF_GOD_OF_CRAFTSMEN'; -- detach original modifiers because they are not scored properly

INSERT INTO BeliefModifiers (BeliefType, ModifierId) VALUES
('BELIEF_GOD_OF_CRAFTSMEN', 'GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_PRODUCTION'),
('BELIEF_GOD_OF_CRAFTSMEN', 'GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_FAITH'),
('BELIEF_GOD_OF_CRAFTSMEN', 'GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_GOLD');

INSERT INTO Modifiers(ModifierId, ModifierType, SubjectRequirementSetId) VALUES
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_PRODUCTION',          'MODIFIER_ALL_CITIES_ATTACH_MODIFIER',         'CITY_FOLLOWS_PANTHEON_REQUIREMENTS'),
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_PRODUCTION_MODIFIER', 'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD', 'REQUIREMENTS_GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC'),
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_FAITH',          'MODIFIER_ALL_CITIES_ATTACH_MODIFIER',         'CITY_FOLLOWS_PANTHEON_REQUIREMENTS'),
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_FAITH_MODIFIER', 'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD', 'REQUIREMENTS_GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC'),
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_GOLD',          'MODIFIER_ALL_CITIES_ATTACH_MODIFIER',         'CITY_FOLLOWS_PANTHEON_REQUIREMENTS'),
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_GOLD_MODIFIER', 'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD', 'REQUIREMENTS_GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC');


INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_PRODUCTION', 'ModifierId', 'GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_PRODUCTION_MODIFIER'),
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_PRODUCTION_MODIFIER', 'YieldType', 'YIELD_PRODUCTION'),
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_PRODUCTION_MODIFIER', 'Amount',    '1'),

('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_FAITH', 'ModifierId', 'GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_FAITH_MODIFIER'),
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_FAITH_MODIFIER', 'YieldType', 'YIELD_FAITH'),
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_FAITH_MODIFIER', 'Amount',    '1'),

('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_GOLD', 'ModifierId', 'GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_GOLD_MODIFIER'),
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_GOLD_MODIFIER', 'YieldType', 'YIELD_GOLD'), -- Boost
('GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC_GOLD_MODIFIER', 'Amount',    '1');

-- Requirement: plot has improved strategic resource
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType)		 VALUES ('REQUIREMENTS_GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC', 'REQUIRES_PLOT_HAS_STRATEGIC'); -- exists

--INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GOD_OF_CRAFTSMEN_IMPROVED_STRATEGIC', 'REQUIRES_PLOT_HAS_IMPROVEMENT');
--INSERT OR REPLACE INTO Requirements (RequirementId, RequirementType)     VALUES ('REQUIRES_PLOT_HAS_IMPROVEMENT', 'REQUIREMENT_PLOT_HAS_ANY_IMPROVEMENT');


-- BELIEF_GODDESS_OF_FESTIVALS (Culture from Plantations)

INSERT INTO BeliefModifiers (BeliefType, ModifierId) VALUES
('BELIEF_GODDESS_OF_FESTIVALS', 'GODDESS_OF_FESTIVALS_RESOURCES_CULTURE');

INSERT INTO Modifiers(ModifierId, ModifierType, SubjectRequirementSetId) VALUES
--('GODDESS_OF_FESTIVALS_RESOURCES_CULTURE',          'MODIFIER_ALL_CITIES_ATTACH_MODIFIER',         'REQUIREMENTS_CITY_FOLLOWS_PANTHEON_ANCIENT'),
('GODDESS_OF_FESTIVALS_RESOURCES_CULTURE',          'MODIFIER_ALL_CITIES_ATTACH_MODIFIER',          'CITY_FOLLOWS_PANTHEON_REQUIREMENTS'),
('GODDESS_OF_FESTIVALS_RESOURCES_CULTURE_MODIFIER', 'MODIFIER_CITY_PLOT_YIELDS_ADJUST_PLOT_YIELD', 'REQUIREMENTS_GODDESS_OF_FESTIVALS_RESOURCES');

INSERT INTO ModifierArguments (ModifierId, Name, Value) VALUES
('GODDESS_OF_FESTIVALS_RESOURCES_CULTURE', 'ModifierId', 'GODDESS_OF_FESTIVALS_RESOURCES_CULTURE_MODIFIER'),
('GODDESS_OF_FESTIVALS_RESOURCES_CULTURE_MODIFIER', 'YieldType', 'YIELD_CULTURE'),
('GODDESS_OF_FESTIVALS_RESOURCES_CULTURE_MODIFIER', 'Amount',    '1');

-- Requirement: plot has a resource with a specific tag
INSERT INTO RequirementSets (RequirementSetId, RequirementSetType)		 VALUES ('REQUIREMENTS_GODDESS_OF_FESTIVALS_RESOURCES', 'REQUIREMENTSET_TEST_ALL');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GODDESS_OF_FESTIVALS_RESOURCES', 'PLAYER_AT_ANCIENT_ERA');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GODDESS_OF_FESTIVALS_RESOURCES', 'PLAYER_NOT_CLASSICAL_ERA');

--INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GODDESS_OF_FESTIVALS_RESOURCES', 'REQUIRES_PLOT_HAS_NO_IMPROVEMENT');

INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GODDESS_OF_FESTIVALS_RESOURCES', 'REQUIRES_PLAYER_IS_AI');
INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES ('REQUIREMENTS_GODDESS_OF_FESTIVALS_RESOURCES', 'REQUIRES_PLOT_HAS_TAG_GODDESS_OF_FESTIVAL'); -- exists

